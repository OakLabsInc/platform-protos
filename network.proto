syntax = "proto3";

import "google/protobuf/empty.proto";

package oak.platform;

service Network {
  rpc Info (google.protobuf.Empty) returns (Information) {}
  rpc Connect (Connection) returns (google.protobuf.Empty) {}
  rpc ListAccessPoints (DeviceID) returns (AccessPointList) {}
  rpc ListConnections (google.protobuf.Empty) returns (google.protobuf.Empty) {}
}

message Information {
  repeated Device devices = 1;
  repeated Connection connections = 2;
  message Device {
    string device_id = 1;
    Technology technology = 2;
    string hardware_address = 3;
    string state = 4;
    repeated string addresses = 5;
    string gateway = 6;
  }
  message Connection {
    string connection_id = 1;
    Technology technology = 2;
    string ssid = 3;
  }
  enum Technology {
    UNKNOWN = 0;
    ETHERNET = 1;
    WIFI = 2;
  }
}

message DeviceID {
  string device_id = 1;
}

message AccessPointList {
  repeated AccessPoint access_points = 1;
  message AccessPoint {
    string ssid = 1;
    string frequency = 2;
    string hardware_address = 3;
    uint32 strength_percent = 4;
    string mode = 5;
  }
}

message Connection {
  string device_id = 1;
  string ssid = 2;
  string passphrase = 3;
}
